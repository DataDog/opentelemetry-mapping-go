<!-- This file is autogenerated. See CONTRIBUTING.md for instructions to add an entry. -->

# Changelog

<!-- next version -->

## v0.8.2

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: Add support for metrics origin in `Dimensions`. (#204)

## v0.8.1

### ðŸš© Deprecations ðŸš©

- `pkg/otlp/attributes`: ContainerTagFromAttributes is deprecated in favor of ContainerTagFromResourceAttributes. (#193)

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/attributes`: Add support for custom container tags via resource attribute prefix `datadog.container.tag`. (#193)
- `pkg/inframetadata`: Add support for host.cpu resource attributes (#174)

## v0.8.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Remove go 1.19 support, bump minimum to go 1.20 and add testing for 1.21 (#159)

### ðŸ§° Bug fixes ðŸ§°

- `pkg/otlp/metrics`: Empty OTLP Exponential Histograms are now dropped instead of causing a crash (#158)

## v0.7.1

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/inframetadata`: Host metadata is now reported the first time new information becomes available for a host. (#150)

## v0.7.0

### ðŸ§° Bug fixes ðŸ§°

- `pkg/otlp/metrics`: Fix the incorrect for-loop which mutates the same slice while iterating over it, leading to unexpected metric names. Also avoid mutating the input pmetric.Metrics. (#141)
- `pkg/otlp/metrics`: The minimum and maximum estimation for OTLP Histogram to Datadog distribution mapping now ensures the average is within [min, max]. (#149)
  This estimation is only used when the minimum and maximum are not available in the OTLP payload or this is a cumulative payload.
  

## v0.5.5

### ðŸ§° Bug fixes ðŸ§°

- `pkg/otlp`: Populate OTLP resource attributes in Datadog logs (#138)
- `pkg/otlp/metrics`: Changes mapping for jvm.loaded_classes from process.runtime.jvm.classes.loaded to process.runtime.jvm.classes.current_loaded (#143)

## v0.5.4

### ðŸ§° Bug fixes ðŸ§°

- `pkg/otlp/logs`: Remove `otel_source` tag from log translator output (#130)

## v0.5.3

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/otlp`: use new location for updated protobuf definitions in the datadog-agent repo, trace protobuf definitions specifically. (#103)
  new definitions include mutext to avoid copies, and so implementations should rely on passing arguments by reference and not value.

## v0.5.2

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/inframetadata`: Add `Reporter` implementation (#88)

## v0.5.1

### ðŸš€ New components ðŸš€

- `pkg/inframetadata`: The pkg/inframetadata module contains logic and payload definitions related to infrastructure monitoring (#105)

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: Add WithInitialCumulMonoValueMode option to metrics translator to configure behavior when exporting cumulative monotonic sums under the 'cumulative_to_delta' mode (#109)

## v0.5.0

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: A new Translator configuration option (WithRemapping) can be used to extract Datadog system and container metrics. (#102)

## v0.4.0

**VERSION HAS BEEN RETRACTED**

## v0.3.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/otlp/metrics`: Renames MapMetrics function return value from `RuntimeMetricsTelemetry` to `Metadata`, renames field `LanguageTags` to `Languages`, and removes field `HasRuntimeMetrics`. (#91)

## v0.2.4

### ðŸš€ New components ðŸš€

- `pkg/otlp/logs`: Create new `pkg/otlp/logs` module for OTLP to DD log translation (#89)

## v0.2.2

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/otlp/metrics`: the MapMetrics method now returns runtime metrics information as well. (#81)

## v0.2.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/otlp/attributes`: Removed deprecated functions which use preview rules parameter. (#55)
  Full list of removed functions can be found below.
  - [pkg/otlp/attributes] SourceFromAttributes (=> Replaced by SourceFromAttrs)
  - [pkg/otlp/attributes/azure] HostnameFromAttributes (=> Replaced by HostnameFromAttrs)
  - [pkg/otlp/attributes/azure] HostInfoFromAttributes (No replacement)
  - [pkg/otlp/attributes/ec2] HostnameFromAttributes (=> Replaced by HostnameFromAttrs)
  - [pkg/otlp/attributes/gcp] HostnameFromAttributes (=> Replaced by HostnameFromAttrs)
  - [pkg/otlp/attributes/gcp] HostInfoFromAttributes (=> Replaced by HostInfoFromAttrs)
  
- `pkg/otlp/metrics`: Removed deprecated function WithPreviewHostnameFromAttributes. (#55)

### ðŸ§° Bug fixes ðŸ§°

- `pkg/otlp/attributes`: Handle literal 'host' attribute to avoid double tagging. (#65)
  This avoids double tagging when using `metrics::resource_attributes_as_tags` for metrics, or in all cases for traces/logs.

## v0.1.5

### ðŸš© Deprecations ðŸš©

- `pkg/otlp/metrics`: Deprecate and remove usage of WithPreviewHostnameFromAttributes (#48)

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: Use minimum and maximum values from cumulative OTLP Histograms. (#26)
  - Values are used only when we can assume they are from the last time window or otherwise to clamp estimates.

## v0.1.4

### ðŸš© Deprecations ðŸš©

- `pkg/otlp/metrics`: Deprecate metrics.WithCountSumMetrics translator option. (#23)
  - metrics.WithCountSumMetrics will now send min and max metrics when available.
  - Use metrics.WithHistogramAggregations instead.
  

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: Send min and max for delta histograms and delta exponential histograms when metrics.WithHistogramAggregations is used. (#23)

## v0.1.3

### ðŸš© Deprecations ðŸš©

- `pkg/otlp/attributes`: Deprecate and replace functions which have usePreviewRules parameter in preparation to graduate the exporter.datadog.hostname.preview feature gate to stable. (#21)

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: The OTLP metrics converter now maps OpenTelemetry Go runtime metrics to their Datadog counterparts. (#14)

## v0.1.2

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/otlp/metrics`: The OTLP metrics converter now maps OpenTelemetry Go runtime metrics to their Datadog counterparts. (#14)

## v0.1.1

### ðŸš€ New components ðŸš€

- `pkg/otlp/attributes`: Add new module pkg/otlp/attributes (#9)
- `pkg/otlp/metrics`: Add new module pkg/otlp/metrics (#10)

### ðŸ§° Bug fixes ðŸ§°

- `pkg/quantile`: Handle edge case where total count exceeds sum of bins after conversion from other formats. (#11)
